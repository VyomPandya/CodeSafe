<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Authentication Redirect</title>
  <script>
    // This page handles authentication redirects from Supabase that land on the root domain
    
    // Get the current URL with hash parameters
    var url = new URL(window.location.href);
    var hash = window.location.hash;
    
    // Check if this is an authentication callback
    if (hash && (hash.includes('access_token') || hash.includes('type=signup'))) {
      // Redirect to the CodeSafe app with the authentication parameters
      window.location.replace('https://vyompandya.github.io/CodeSafe/' + hash);
      
      // Add a fallback redirect after 2 seconds
      setTimeout(function() {
        window.location.href = 'https://vyompandya.github.io/CodeSafe/' + hash;
      }, 2000);
    } else {
      // If it's not an auth callback, just go to the app
      window.location.replace('https://vyompandya.github.io/CodeSafe/');
    }
  </script>
</head>
<body>
  <h1>Authenticating...</h1>
  <p>Redirecting you to the Code Vulnerability Analyzer. If not redirected, 
    <a href="https://vyompandya.github.io/CodeSafe/">click here</a>.</p>
</body>
</html> 